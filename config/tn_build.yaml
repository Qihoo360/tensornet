name: tn_build
channels:
  - conda-forge
dependencies:
  - python=3.7
  - nomkl
  - bazel==3.1.0
  - openmpi==4.1.3
  - openssl==1.1.1t
  - libxcrypt==4.4.28
  - gcc==10.3.0
  - gxx==10.3.0
  - libstdcxx-devel_linux-64==10.3.0
  - openjdk==8.0.382
  - patch
  - pip
  - pip:
    - tensorflow==2.2.0
    - protobuf<3.21
    - grpcio<1.47 # Only for CentOS 6
    - h5py<3.8 # Only for CentOS 6
    - twine
    - wheel
